(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[18],{41:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=a(553),i=a(49),s=(a(51),function(e){var t=r.a.createElement("div",{className:"modal ".concat("form_modal"===e.className?"form_modal":"info_modal"),style:{height:"".concat(e.height)}},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h2",null,e.header)),r.a.createElement("div",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return o.a.createPortal(t,document.getElementById("modal-hook"))});t.a=function(e){return r.a.createElement(r.a.Fragment,null,e.show&&r.a.createElement(i.a,{onClick:e.onCancel}),r.a.createElement(l.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},r.a.createElement(s,e)))}},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(42),r=a.n(n),c=a(43),o=a(8),l=a(0),i=function(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(l.useState)(),s=Object(o.a)(i,2),m=s[0],u=s[1],d=Object(l.useRef)([]),p=Object(l.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c,o,l,i,s,m=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>1&&void 0!==m[1]?m[1]:"GET",c=m.length>2&&void 0!==m[2]?m[2]:null,o=m.length>3&&void 0!==m[3]?m[3]:{},n(!0),l=new AbortController,d.current.push(l),e.prev=6,e.next=9,fetch(t,{method:a,body:c,headers:o,signal:l.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(s=e.sent,d.current=d.current.filter((function(e){return e!==l})),i.ok){e.next=16;break}throw new Error(s.message);case 16:return n(!1),e.abrupt("return",s);case 20:throw e.prev=20,e.t0=e.catch(6),u(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(l.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:m,sendRequest:p,clearError:function(){u(null)}}}},48:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(41),o=a(347);t.a=function(e){return r.a.createElement(c.a,{onCancel:e.onClear,header:e.header,show:!!e.error,footer:r.a.createElement(o.a,{onClick:e.onClear},"Okay")},r.a.createElement("p",null,e.error))}},49:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(13),o=a.n(c);a(50);t.a=function(e){return o.a.createPortal(r.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";var n=a(8),r=a(0),c=a.n(r),o=a(525),l=a(82),i=a.n(l),s=a(35),m=Object(s.a)((function(e){return{badge:{right:-8,top:13,padding:"0 6px"}}}))(o.a);t.a=function(e){var t=Object(r.useState)(0),a=Object(n.a)(t,2),o=a[0],l=a[1],s=Object(r.useState)([]),u=Object(n.a)(s,2),d=u[0],p=u[1];return Object(r.useEffect)((function(){var t=JSON.parse(localStorage.getItem(e.userId));t||(localStorage.setItem(e.userId,JSON.stringify([])),t=JSON.parse(localStorage.getItem(e.userId))),p(t)}),[e.change,e.userId]),Object(r.useEffect)((function(){var e=0;0===d.length?l(0):d.forEach((function(t){l((function(){return e+=parseInt(t.quantity)}))}))}),[d]),c.a.createElement(m,{badgeContent:o,color:"secondary"},c.a.createElement(i.a,{style:{marginRight:"0.5rem"}}))}},561:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(70),o=a(42),l=a.n(o),i=a(43),s=a(8),m=a(14),u=a(347),d=a(90),p=a.n(d),E=(a(98),a(46)),f=a(15),g=a(75),h=function(e){var t=Object(n.useContext)(f.a),a=Object(E.a)(),c=a.isLoading,o=a.error,d=a.sendRequest,h=a.clearError,b=Object(n.useState)([]),y=Object(s.a)(b,2),v=y[0],O=y[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("".concat("https://radiant-journey-52325.herokuapp.com/api","/orders"),"GET",null,{Authorization:"Bearer "+t.token});case 3:a=e.sent,O(a.orders),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[d,t.token]);var w=[{name:"_id",options:{display:!1},label:"ID"},{name:"date",label:"Order Date"},{name:"hq",label:"HQ",options:{customBodyRender:function(e){return e.name}}},{name:"branch",label:"Branch",options:{customBodyRender:function(e){return e.name}}},{name:"actions",label:"Actions",options:{customBodyRender:function(e,t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"contained",color:"default",startIcon:r.a.createElement(p.a,null),style:{marginRight:"5%"},component:m.c,to:"/admin/orders/".concat(t.rowData[0])},"View"))}}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{height:"62.5rem",error:o,clearError:h,isLoading:c,Datas:v,columns:w,options:{tableBodyHeight:"55rem",rowsPerPage:10,print:!1,download:!1,selectableRows:"none",sortOrder:{name:"date",direction:"desc"},elevation:1}}))};t.default=function(e){return r.a.createElement(c.a,{user:"adminstaff"},r.a.createElement("div",{style:{marginLeft:"4rem",marginRight:"4rem",marginTop:"3rem"}},r.a.createElement("h1",null,"Order List"),r.a.createElement(h,null)))}},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){"use strict";var n=a(64),r=a(0),c=a.n(r),o=a(538),l=a(376),i=a(85),s=a(8),m=a(14),u=a(15),d=a(347),p=a(533),E=a(387),f=a(536),g=a(383),h=a(559),b=a(107),y=a.n(b),v=a(90),O=a.n(v),w=a(108),k=a.n(w),x=a(109),C=a.n(x),j=a(113),B=a.n(j),N=a(110),S=a.n(N),I=a(111),R=a.n(I),A=a(112),D=a.n(A),L=a(57),P=a.n(L),T=a(537),q=a(539),_=a(386),z=a(385),H=function(e){return c.a.createElement("div",{style:{display:"flex",marginLeft:"1rem",marginRight:"1rem",marginTop:"1.8rem",marginBottom:"1.8rem"}},c.a.createElement("img",{style:{height:"75px",width:"75px"},src:e.image,alt:"garment"}),c.a.createElement("div",{style:{marginLeft:"1.2rem"}},c.a.createElement("h3",{style:{margin:0,paddingBottom:"1rem"}},e.name),c.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},c.a.createElement("div",null,c.a.createElement("p",{style:{margin:0,padding:0}},"Price: $",e.price),c.a.createElement("p",{style:{margin:0,padding:0}},"Quantity: ",e.quantity)),c.a.createElement("div",{style:{marginLeft:"1rem"}},c.a.createElement("p",{style:{margin:0,padding:0}},"Size: ",e.size),c.a.createElement("p",{style:{margin:0,padding:0}},"Colour: ",e.colour)))),c.a.createElement(P.a,{onClick:function(){return e.onRemove(e)},fontSize:"small",style:{cursor:"pointer",display:"block",marginLeft:"auto",marginBottom:"auto",color:"grey"}}))},F=(a(67),a(52)),J=Object(l.a)((function(e){var t;return{drawer:Object(n.a)({},e.breakpoints.up("lg"),{width:350,flexShrink:0}),appBar:(t={},Object(n.a)(t,e.breakpoints.up("lg"),{width:"calc(100% - ".concat(350,"px)"),marginLeft:350}),Object(n.a)(t,"backgroundColor","black"),t),menuButton:Object(n.a)({marginRight:e.spacing(2)},e.breakpoints.up("lg"),{display:"none"}),shopButton:{marginRight:e.spacing(2)},toolbar:e.mixins.toolbar,drawerPaper:{width:350,backgroundColor:"#212121"},shopDrawer:{width:400,backgroundColor:"white"},content:{flexGrow:1,padding:e.spacing(3)}}})),G=function(e){var t=Object(r.useContext)(u.a),a=Object(r.useState)([]),n=Object(s.a)(a,2),l=n[0],b=n[1],v=Object(r.useState)(0),w=Object(s.a)(v,2),x=w[0],j=w[1],N=e.window,I=J();Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem(t.userId));b(e)}),[e.onAdd,t.userId]),Object(r.useEffect)((function(){var e=0;0===l.length?j(0):l.forEach((function(t){j((function(){return e+=t.quantity*t.price}))}))}),[l]);var A=Object(r.useState)(!1),L=Object(s.a)(A,2),G=L[0],M=L[1],U=function(){M(!G)},Q=Object(r.useState)(!1),$=Object(s.a)(Q,2),K=$[0],V=$[1],W=function(){V(!K)},Y=function(e){var a=Object(i.a)(l);a=a.filter((function(t){return t.id!==e.id||t.colour!==e.colour||t.size!==e.size})),b(a);var n=JSON.stringify(a);localStorage.setItem(t.userId,n)},X=c.a.createElement("div",null,c.a.createElement("div",{className:I.toolbar}),c.a.createElement("h2",{style:{color:"white",paddingLeft:"1rem"}},"Actions "),c.a.createElement(p.a,{style:{color:"#B3B3B3"}},"adminstaff"===e.user&&["Orders","Headquarters","Garments"].map((function(e,t){return c.a.createElement(m.c,{key:t,to:"/admin/".concat(e.charAt(0).toLowerCase()+e.slice(1)),style:{display:"flex",padding:"8px 16px 8px 16px",textDecoration:"none",color:"#B3B3B3"}},c.a.createElement(f.a,{style:{color:"white"}},"Orders"===e&&c.a.createElement(y.a,null),"Headquarters"===e&&c.a.createElement(k.a,null),"Garments"===e&&c.a.createElement(C.a,null)),c.a.createElement(g.a,{primary:"".concat(e),style:{color:"white"}}))})),"client"===e.user&&["Orders","Catalogue","Checkout"].map((function(e,a){return c.a.createElement(m.c,{key:a,to:"/".concat(t.username,"/").concat(e.charAt(0).toLowerCase()+e.slice(1)),style:{display:"flex",padding:"8px 16px 8px 16px",textDecoration:"none",color:"#B3B3B3"}},c.a.createElement(f.a,{style:{color:"white"}},"Orders"===e&&c.a.createElement(y.a,null),"Catalogue"===e&&c.a.createElement(k.a,null),"Checkout"===e&&c.a.createElement(C.a,null)),c.a.createElement(g.a,{primary:"".concat(e),style:{color:"white"}}))}))),c.a.createElement(T.a,{style:{backgroundColor:"grey"}}),c.a.createElement("h2",{style:{color:"white",paddingLeft:"1rem"}},"Pages"),c.a.createElement(p.a,{style:{color:"#B3B3B3"}},["Home","About","Team","Contact"].map((function(e,t){return c.a.createElement(m.c,{key:t,to:"/".concat(0===t?"":e.charAt(0).toLowerCase()+e.slice(1)),style:{display:"flex",padding:"8px 16px 8px 16px",textDecoration:"none",color:"#B3B3B3"}},c.a.createElement(f.a,{style:{color:"white"}},"Home"===e&&c.a.createElement(S.a,null),"About"===e&&c.a.createElement(O.a,null),"Team"===e&&c.a.createElement(R.a,null),"Contact"===e&&c.a.createElement(D.a,null)),c.a.createElement(g.a,{primary:"".concat(e),style:{color:"white"}}))})))),Z=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"close-section"},c.a.createElement(z.a,{"aria-label":"open drawer",onClick:W},c.a.createElement(P.a,null)),c.a.createElement(T.a,{style:{backgroundColor:"#E6E6E6"}})),c.a.createElement("div",{className:"cart-section"},0!==l.length?l.map((function(e,t){return c.a.createElement(H,{key:t,id:e.id,image:e.image,name:e.name,price:e.price,size:e.size,colour:e.colour,quantity:e.quantity,onRemove:Y})})):c.a.createElement("div",{style:{textAlign:"center",margin:"3rem"}},c.a.createElement("h2",null,"Your shopping cart is currently empty"),c.a.createElement("p",null," Add some garments and view them here."))),c.a.createElement("div",{className:"checkout-section"},c.a.createElement(T.a,null),c.a.createElement("div",{className:"total-price"},c.a.createElement("h3",null,"Total"),c.a.createElement("h3",null,"$",x.toFixed(2))),c.a.createElement(T.a,null),c.a.createElement("div",{className:"nav-section"},c.a.createElement(m.c,{to:"/".concat(t.username,"/catalogue"),style:{textDecoration:"none",color:"white"}},c.a.createElement(d.a,{variant:"outlined"},c.a.createElement("p",null,"ADD MORE TO CART"))),c.a.createElement(m.c,{to:"/".concat(t.username,"/checkout"),style:{textDecoration:"none",color:"white"}},c.a.createElement(d.a,{variant:"contained",style:{backgroundColor:"black",color:"white"}},c.a.createElement("p",null,"PROCEED TO CHECKOUT")))))),ee=void 0!==N?function(){return N().document.body}:void 0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null),c.a.createElement(q.a,{position:"fixed",className:I.appBar},c.a.createElement(_.a,{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:U,className:I.menuButton},c.a.createElement(B.a,null)),c.a.createElement("h1",null," Hello ",t.username," "),"adminstaff"!==t.username&&c.a.createElement(z.a,{color:"inherit","aria-label":"open shopCart",edge:"end",onClick:W,className:I.shopButton},c.a.createElement(F.a,{userId:t.userId,change:l})))),c.a.createElement("nav",{className:I.drawer,"aria-label":"mailbox folders"},c.a.createElement(h.a,{lgUp:!0,implementation:"css"},c.a.createElement(E.a,{container:ee,variant:"temporary",anchor:"left",open:G,onClose:U,classes:{paper:I.drawerPaper},ModalProps:{keepMounted:!0}},X)),c.a.createElement(h.a,{mdDown:!0,implementation:"css"},c.a.createElement(E.a,{classes:{paper:I.drawerPaper},variant:"permanent",open:!0},X)),"adminstaff"!==t.username&&c.a.createElement(h.a,{lgUp:!0,implementation:"css"},c.a.createElement(E.a,{container:ee,variant:"temporary",anchor:"right",open:K,onClose:W,classes:{paper:I.shopDrawer},ModalProps:{keepMounted:!0}},Z))))},M=(a(68),Object(l.a)((function(e){return{menuButton:Object(n.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,content:{flexGrow:1,padding:e.spacing(3)}}})));t.a=function(e){var t=M();return c.a.createElement("div",{className:"dashboard"},c.a.createElement(o.a,null),c.a.createElement(G,{user:e.user,onAdd:e.onAdd}),c.a.createElement("main",{className:t.content},c.a.createElement("div",{className:t.toolbar}),e.children))}},75:function(e,t,a){"use strict";var n=a(375),r=a(114),c=a.n(r),o=a(0),l=a.n(o),i=a(48),s=a(16);t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{header:"An Error Occured",error:e.error,onClear:e.clearError}),e.isLoading&&l.a.createElement("div",null,l.a.createElement(n.a,{style:{width:"100%",height:e.height,display:"grid",placeItems:"center"}},l.a.createElement(s.a,null))),!e.isLoading&&l.a.createElement(c.a,{className:"table-center",data:e.Datas,columns:e.columns,options:e.options}))}},98:function(e,t,a){}}]);
//# sourceMappingURL=18.196efda0.chunk.js.map